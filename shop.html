<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form action="">
        <!-- <input type="text" id="search"> -->
        <select id="gender">
            <!-- <option value="All">All</option> -->
            <option value="Male">Male</option>
            <option value="Female">Female</option>
        </select>
        <button type="submit">search</button>
        <div class="div"></div>
    </form>
    <script>
        let form = document.querySelector('form')
        // let search = document.querySelector('#search')
        let gender = document.querySelector('#gender')
        let button = document.querySelector('button')
        let div = document.querySelector('.div')

        const CloudName = 'da2oqj7qe'
        const malefolder = 'male'

        form.onsubmit = async (e) => {
            e.preventDefault()

            let selectedgender = gender.value
            div.innerHTML = ''

            let url;
            if (selectedgender === 'Male') {
                url = `https://res.cloudinary.com/${CloudName}/image/list/male.json`;
            } else {
                url = `https://res.cloudinary.com/${CloudName}/image/list/female.json`;
            }

            try {
                const response = await fetch(url)
                const data = await response.json()

                console.log(data)
                // data.resources.forEach(image => {
                //     const imageUrl = 'https://res.cloudinary.com/${cloudName}/image/upload/${image.public_id}.${image.format}'
                //     const img = document.createElement('img')
                //     img.src = imageUrl;
                //     imag.alt = public - id
                //     div.appendChild(img)
                // })
            }
            catch (error) {
                console.error('Error fetching images:', error);
            }

            // const img = document.createElement('img')
            // img.src = "https://res.cloudinary.com/da2oqj7qe/image/upload/v1709218572/1_tsiwrn.jpg"
            // div.appendChild(img)

            // const data = await fetch('http://localhost:8052/shop', {
            //     method: "POST",
            //     headers: {
            //         "Content-Type": "application/json"
            //     },
            //     body: JSON.stringify({
            //         gender: gender.value 
            //     })
            // })
            // const result = await data.json()
            // console.log(result)


        }



    </script>
</body>

</html>